"use strict";(self.webpackChunkmalidag=self.webpackChunkmalidag||[]).push([[370],{1972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BASE_URL=void 0,t.DEFAULT_BASE_URL="https://safe-client.safe.global"},6771:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getEndpoint=t.deleteEndpoint=t.putEndpoint=t.postEndpoint=void 0;const a=n(3113);function s(e,t,n,s){return`${e}${(0,a.insertParams)(t,n)}${(0,a.stringifyQuery)(s)}`}t.postEndpoint=function(e,t,n){const i=s(e,t,null===n||void 0===n?void 0:n.path,null===n||void 0===n?void 0:n.query);return(0,a.fetchData)(i,"POST",null===n||void 0===n?void 0:n.body,null===n||void 0===n?void 0:n.headers,null===n||void 0===n?void 0:n.credentials)},t.putEndpoint=function(e,t,n){const i=s(e,t,null===n||void 0===n?void 0:n.path,null===n||void 0===n?void 0:n.query);return(0,a.fetchData)(i,"PUT",null===n||void 0===n?void 0:n.body,null===n||void 0===n?void 0:n.headers,null===n||void 0===n?void 0:n.credentials)},t.deleteEndpoint=function(e,t,n){const i=s(e,t,null===n||void 0===n?void 0:n.path,null===n||void 0===n?void 0:n.query);return(0,a.fetchData)(i,"DELETE",null===n||void 0===n?void 0:n.body,null===n||void 0===n?void 0:n.headers,null===n||void 0===n?void 0:n.credentials)},t.getEndpoint=function(e,t,n,i){if(i)return(0,a.getData)(i,void 0,null===n||void 0===n?void 0:n.credentials);const r=s(e,t,null===n||void 0===n?void 0:n.path,null===n||void 0===n?void 0:n.query);return(0,a.getData)(r,null===n||void 0===n?void 0:n.headers,null===n||void 0===n?void 0:n.credentials)}},5152:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getAccount=t.createAccount=t.verifyAuth=t.getAuthNonce=t.getContract=t.getSafeOverviews=t.unsubscribeAll=t.unsubscribeSingle=t.registerRecoveryModule=t.deleteRegisteredEmail=t.getRegisteredEmail=t.verifyEmail=t.resendEmailVerificationCode=t.changeEmail=t.registerEmail=t.unregisterDevice=t.unregisterSafe=t.registerDevice=t.getDelegates=t.confirmSafeMessage=t.proposeSafeMessage=t.getSafeMessage=t.getSafeMessages=t.getDecodedData=t.getMasterCopies=t.getSafeApps=t.getChainConfig=t.getChainsConfig=t.getTxPreview=t.getConfirmationView=t.proposeTransaction=t.getNonces=t.postSafeGasEstimation=t.deleteTransaction=t.getTransactionDetails=t.getTransactionQueue=t.getTransactionHistory=t.getCollectiblesPage=t.getCollectibles=t.getAllOwnedSafes=t.getOwnedSafes=t.getFiatCurrencies=t.getBalances=t.getMultisigTransactions=t.getModuleTransactions=t.getIncomingTransfers=t.getSafeInfo=t.getRelayCount=t.relayTransaction=t.setBaseUrl=void 0,t.getIndexingStatus=t.putAccountDataSettings=t.getAccountDataSettings=t.getAccountDataTypes=t.deleteAccount=void 0;const i=n(6771),r=n(1972);s(n(1318),t),s(n(9078),t),s(n(337),t),s(n(7046),t),s(n(2657),t),s(n(6674),t),s(n(1689),t),s(n(1294),t),s(n(8474),t),s(n(803),t);let o=r.DEFAULT_BASE_URL;t.setBaseUrl=e=>{o=e},t.relayTransaction=function(e,t){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/relay",{path:{chainId:e},body:t})},t.getRelayCount=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/relay/{address}",{path:{chainId:e,address:t}})},t.getSafeInfo=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:e,address:t}})},t.getIncomingTransfers=function(e,t,n,a){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:e,address:t},query:n},a)},t.getModuleTransactions=function(e,t,n,a){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:e,address:t},query:n},a)},t.getMultisigTransactions=function(e,t,n,a){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:e,address:t},query:n},a)},t.getBalances=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:e,address:t,currency:n},query:a})},t.getFiatCurrencies=function(){return(0,i.getEndpoint)(o,"/v1/balances/supported-fiat-codes")},t.getOwnedSafes=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:e,address:t}})},t.getAllOwnedSafes=function(e){return(0,i.getEndpoint)(o,"/v1/owners/{address}/safes",{path:{address:e}})},t.getCollectibles=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:e,address:t},query:n})},t.getCollectiblesPage=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return(0,i.getEndpoint)(o,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:e,address:t},query:n},a)},t.getTransactionHistory=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:e,safe_address:t},query:n},a)},t.getTransactionQueue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:e,safe_address:t},query:n},a)},t.getTransactionDetails=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:e,transactionId:t}})},t.deleteTransaction=function(e,t,n){return(0,i.deleteEndpoint)(o,"/v1/chains/{chainId}/transactions/{safeTxHash}",{path:{chainId:e,safeTxHash:t},body:{signature:n}})},t.postSafeGasEstimation=function(e,t,n){return(0,i.postEndpoint)(o,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:e,safe_address:t},body:n})},t.getNonces=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/nonces",{path:{chainId:e,safe_address:t}})},t.proposeTransaction=function(e,t,n){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:e,safe_address:t},body:n})},t.getConfirmationView=function(e,t,n,a,s){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/views/transaction-confirmation",{path:{chainId:e,safe_address:t},body:{data:n,to:a,value:s}})},t.getTxPreview=function(e,t,n,a,s){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/transactions/{safe_address}/preview",{path:{chainId:e,safe_address:t},body:{data:n,to:a,value:s}})},t.getChainsConfig=function(e){return(0,i.getEndpoint)(o,"/v1/chains",{query:e})},t.getChainConfig=function(e){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}",{path:{chainId:e}})},t.getSafeApps=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safe-apps",{path:{chainId:e},query:t})},t.getMasterCopies=function(e){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:e}})},t.getDecodedData=function(e,t,n){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/data-decoder",{path:{chainId:e},body:{data:t,to:n}})},t.getSafeMessages=function(e,t,n){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:e,safe_address:t},query:{}},n)},t.getSafeMessage=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:e,message_hash:t}})},t.proposeSafeMessage=function(e,t,n){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:e,safe_address:t},body:n})},t.confirmSafeMessage=function(e,t,n){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:e,message_hash:t},body:n})},t.getDelegates=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.getEndpoint)(o,"/v2/chains/{chainId}/delegates",{path:{chainId:e},query:t})},t.registerDevice=function(e){return(0,i.postEndpoint)(o,"/v1/register/notifications",{body:e})},t.unregisterSafe=function(e,t,n){return(0,i.deleteEndpoint)(o,"/v1/chains/{chainId}/notifications/devices/{uuid}/safes/{safe_address}",{path:{chainId:e,safe_address:t,uuid:n}})},t.unregisterDevice=function(e,t){return(0,i.deleteEndpoint)(o,"/v1/chains/{chainId}/notifications/devices/{uuid}",{path:{chainId:e,uuid:t}})},t.registerEmail=function(e,t,n,a){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/emails",{path:{chainId:e,safe_address:t},body:n,headers:a})},t.changeEmail=function(e,t,n,a,s){return(0,i.putEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:e,safe_address:t,signer:n},body:a,headers:s})},t.resendEmailVerificationCode=function(e,t,n){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify-resend",{path:{chainId:e,safe_address:t,signer:n},body:""})},t.verifyEmail=function(e,t,n,a){return(0,i.putEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify",{path:{chainId:e,safe_address:t,signer:n},body:a})},t.getRegisteredEmail=function(e,t,n,a){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:e,safe_address:t,signer:n},headers:a})},t.deleteRegisteredEmail=function(e,t,n,a){return(0,i.deleteEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:e,safe_address:t,signer:n},headers:a})},t.registerRecoveryModule=function(e,t,n){return(0,i.postEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/recovery",{path:{chainId:e,safe_address:t},body:n})},t.unsubscribeSingle=function(e){return(0,i.deleteEndpoint)(o,"/v1/subscriptions",{query:e})},t.unsubscribeAll=function(e){return(0,i.deleteEndpoint)(o,"/v1/subscriptions/all",{query:e})},t.getSafeOverviews=function(e,t){return(0,i.getEndpoint)(o,"/v1/safes",{query:Object.assign(Object.assign({},t),{safes:e.join(",")})})},t.getContract=function(e,t){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/contracts/{contractAddress}",{path:{chainId:e,contractAddress:t}})},t.getAuthNonce=function(){return(0,i.getEndpoint)(o,"/v1/auth/nonce",{credentials:"include"})},t.verifyAuth=function(e){return(0,i.postEndpoint)(o,"/v1/auth/verify",{body:e,credentials:"include"})},t.createAccount=function(e){return(0,i.postEndpoint)(o,"/v1/accounts",{body:e,credentials:"include"})},t.getAccount=function(e){return(0,i.getEndpoint)(o,"/v1/accounts/{address}",{path:{address:e},credentials:"include"})},t.deleteAccount=function(e){return(0,i.deleteEndpoint)(o,"/v1/accounts/{address}",{path:{address:e},credentials:"include"})},t.getAccountDataTypes=function(){return(0,i.getEndpoint)(o,"/v1/accounts/data-types")},t.getAccountDataSettings=function(e){return(0,i.getEndpoint)(o,"/v1/accounts/{address}/data-settings",{path:{address:e},credentials:"include"})},t.putAccountDataSettings=function(e,t){return(0,i.putEndpoint)(o,"/v1/accounts/{address}/data-settings",{path:{address:e},body:t,credentials:"include"})},t.getIndexingStatus=function(e){return(0,i.getEndpoint)(o,"/v1/chains/{chainId}/about/indexing",{path:{chainId:e}})}},7046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FEATURES=t.GAS_PRICE_TYPE=t.RPC_AUTHENTICATION=void 0,function(e){e.API_KEY_PATH="API_KEY_PATH",e.NO_AUTHENTICATION="NO_AUTHENTICATION",e.UNKNOWN="UNKNOWN"}(t.RPC_AUTHENTICATION||(t.RPC_AUTHENTICATION={})),function(e){e.ORACLE="ORACLE",e.FIXED="FIXED",e.FIXED_1559="FIXED1559",e.UNKNOWN="UNKNOWN"}(t.GAS_PRICE_TYPE||(t.GAS_PRICE_TYPE={})),function(e){e.ERC721="ERC721",e.SAFE_APPS="SAFE_APPS",e.CONTRACT_INTERACTION="CONTRACT_INTERACTION",e.DOMAIN_LOOKUP="DOMAIN_LOOKUP",e.SPENDING_LIMIT="SPENDING_LIMIT",e.EIP1559="EIP1559",e.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",e.TX_SIMULATION="TX_SIMULATION",e.EIP1271="EIP1271"}(t.FEATURES||(t.FEATURES={}))},2657:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TokenType=void 0,function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_TOKEN="NATIVE_TOKEN"}(t.TokenType||(t.TokenType={}))},1689:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeStakingStatus=t.ConfirmationViewTypes=void 0,function(e){e.GENERIC="GENERIC",e.COW_SWAP_ORDER="COW_SWAP_ORDER",e.COW_SWAP_TWAP_ORDER="COW_SWAP_TWAP_ORDER",e.KILN_NATIVE_STAKING_DEPOSIT="KILN_NATIVE_STAKING_DEPOSIT",e.KILN_NATIVE_STAKING_VALIDATORS_EXIT="KILN_NATIVE_STAKING_VALIDATORS_EXIT",e.KILN_NATIVE_STAKING_WITHDRAW="KILN_NATIVE_STAKING_WITHDRAW"}(t.ConfirmationViewTypes||(t.ConfirmationViewTypes={})),function(e){e.NOT_STAKED="NOT_STAKED",e.ACTIVATING="ACTIVATING",e.DEPOSIT_IN_PROGRESS="DEPOSIT_IN_PROGRESS",e.ACTIVE="ACTIVE",e.EXIT_REQUESTED="EXIT_REQUESTED",e.EXITING="EXITING",e.EXITED="EXITED",e.SLASHED="SLASHED"}(t.NativeStakingStatus||(t.NativeStakingStatus={}))},6674:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8474:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceType=void 0,function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB"}(t.DeviceType||(t.DeviceType={}))},803:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},9078:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppSocialPlatforms=t.SafeAppFeatures=t.SafeAppAccessPolicyTypes=void 0,function(e){e.NoRestrictions="NO_RESTRICTIONS",e.DomainAllowlist="DOMAIN_ALLOWLIST"}(t.SafeAppAccessPolicyTypes||(t.SafeAppAccessPolicyTypes={})),function(e){e.BATCHED_TRANSACTIONS="BATCHED_TRANSACTIONS"}(t.SafeAppFeatures||(t.SafeAppFeatures={})),function(e){e.TWITTER="TWITTER",e.GITHUB="GITHUB",e.DISCORD="DISCORD",e.TELEGRAM="TELEGRAM"}(t.SafeAppSocialPlatforms||(t.SafeAppSocialPlatforms={}))},1318:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationVersionState=void 0,function(e){e.UP_TO_DATE="UP_TO_DATE",e.OUTDATED="OUTDATED",e.UNKNOWN="UNKNOWN"}(t.ImplementationVersionState||(t.ImplementationVersionState={}))},1294:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SafeMessageStatus=t.SafeMessageListItemType=void 0,function(e){e.DATE_LABEL="DATE_LABEL",e.MESSAGE="MESSAGE"}(t.SafeMessageListItemType||(t.SafeMessageListItemType={})),function(e){e.NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",e.CONFIRMED="CONFIRMED"}(t.SafeMessageStatus||(t.SafeMessageStatus={}))},337:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LabelValue=t.StartTimeValue=t.DurationType=t.DetailedExecutionInfoType=t.TransactionListItemType=t.ConflictType=t.TransactionInfoType=t.SettingsInfoType=t.TransactionTokenType=t.TransferDirection=t.TransactionStatus=t.Operation=void 0,function(e){e[e.CALL=0]="CALL",e[e.DELEGATE=1]="DELEGATE"}(t.Operation||(t.Operation={})),function(e){e.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",e.AWAITING_EXECUTION="AWAITING_EXECUTION",e.CANCELLED="CANCELLED",e.FAILED="FAILED",e.SUCCESS="SUCCESS"}(t.TransactionStatus||(t.TransactionStatus={})),function(e){e.INCOMING="INCOMING",e.OUTGOING="OUTGOING",e.UNKNOWN="UNKNOWN"}(t.TransferDirection||(t.TransferDirection={})),function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_COIN="NATIVE_COIN"}(t.TransactionTokenType||(t.TransactionTokenType={})),function(e){e.SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",e.ADD_OWNER="ADD_OWNER",e.REMOVE_OWNER="REMOVE_OWNER",e.SWAP_OWNER="SWAP_OWNER",e.CHANGE_THRESHOLD="CHANGE_THRESHOLD",e.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",e.ENABLE_MODULE="ENABLE_MODULE",e.DISABLE_MODULE="DISABLE_MODULE",e.SET_GUARD="SET_GUARD",e.DELETE_GUARD="DELETE_GUARD"}(t.SettingsInfoType||(t.SettingsInfoType={})),function(e){e.TRANSFER="Transfer",e.SETTINGS_CHANGE="SettingsChange",e.CUSTOM="Custom",e.CREATION="Creation",e.SWAP_ORDER="SwapOrder",e.TWAP_ORDER="TwapOrder",e.SWAP_TRANSFER="SwapTransfer",e.NATIVE_STAKING_DEPOSIT="NativeStakingDeposit",e.NATIVE_STAKING_VALIDATORS_EXIT="NativeStakingValidatorsExit",e.NATIVE_STAKING_WITHDRAW="NativeStakingWithdraw"}(t.TransactionInfoType||(t.TransactionInfoType={})),function(e){e.NONE="None",e.HAS_NEXT="HasNext",e.END="End"}(t.ConflictType||(t.ConflictType={})),function(e){e.TRANSACTION="TRANSACTION",e.LABEL="LABEL",e.CONFLICT_HEADER="CONFLICT_HEADER",e.DATE_LABEL="DATE_LABEL"}(t.TransactionListItemType||(t.TransactionListItemType={})),function(e){e.MULTISIG="MULTISIG",e.MODULE="MODULE"}(t.DetailedExecutionInfoType||(t.DetailedExecutionInfoType={})),function(e){e.AUTO="AUTO",e.LIMIT_DURATION="LIMIT_DURATION"}(t.DurationType||(t.DurationType={})),function(e){e.AT_MINING_TIME="AT_MINING_TIME",e.AT_EPOCH="AT_EPOCH"}(t.StartTimeValue||(t.StartTimeValue={})),function(e){e.Queued="Queued",e.Next="Next"}(t.LabelValue||(t.LabelValue={}))},3113:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function r(e){try{c(a.next(e))}catch(t){i(t)}}function o(e){try{c(a.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.fetchData=t.stringifyQuery=t.insertParams=void 0;function a(e){return n(this,void 0,void 0,(function*(){let t;try{t=yield e.json()}catch(a){t={}}if(!e.ok){const a="object"===typeof(n=t)&&null!==n&&"code"in n&&"message"in n?`CGW error - ${t.code}: ${t.message}`:`CGW error - status ${e.statusText}`;throw new Error(a)}var n;return t}))}t.insertParams=function(e,t){return t?Object.keys(t).reduce(((e,n)=>function(e,t,n){return e.replace(new RegExp(`\\{${t}\\}`,"g"),n)}(e,n,String(t[n]))),e):e},t.stringifyQuery=function(e){if(!e)return"";const t=new URLSearchParams;Object.keys(e).forEach((n=>{null!=e[n]&&t.append(n,String(e[n]))}));const n=t.toString();return n?`?${n}`:""},t.fetchData=function(e,t,s,i,r){return n(this,void 0,void 0,(function*(){const n=Object.assign({"Content-Type":"application/json"},i),o={method:null!==t&&void 0!==t?t:"POST",headers:n};r&&(o.credentials=r),null!=s&&(o.body="string"===typeof s?s:JSON.stringify(s));return a(yield fetch(e,o))}))},t.getData=function(e,t,s){return n(this,void 0,void 0,(function*(){const n={method:"GET"};t&&(n.headers=Object.assign(Object.assign({},t),{"Content-Type":"application/json"})),s&&(n.credentials=s);return a(yield fetch(e,n))}))}},370:(e,t,n)=>{n.d(t,{default:()=>oe});const a=e=>e.toString(16).padStart(2,"0"),s=()=>"undefined"!==typeof window?(e=>{const t=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(t),Array.from(t,a).join("")})(10):(new Date).getTime().toString(36);class i{}var r,o;i.makeRequest=(e,t)=>({id:s(),method:e,params:t,env:{sdkVersion:"9.1.0"}}),i.makeResponse=(e,t,n)=>({id:e,success:!0,version:n,data:t}),i.makeErrorResponse=(e,t,n)=>({id:e,success:!1,error:t,version:n}),function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.getOffChainSignature="getOffChainSignature",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"}(r||(r={})),function(e){e.requestAddressBook="requestAddressBook"}(o||(o={}));const c=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer="undefined"===typeof window,this.isValidMessage=e=>{let{origin:t,data:n,source:a}=e;const s=!n,i=!this.isServer&&a===window.parent,r="undefined"!==typeof n.version&&parseInt(n.version.split(".")[0]),o="number"===typeof r&&r>=1;let c=!0;return Array.isArray(this.allowedOrigins)&&(c=void 0!==this.allowedOrigins.find((e=>e.test(t)))),!s&&i&&o&&c},this.logIncomingMessage=e=>{console.info(`Safe Apps SDK v1: A message was received from origin ${e.origin}. `,e.data)},this.onParentMessage=e=>{this.isValidMessage(e)&&(this.debugMode&&this.logIncomingMessage(e),this.handleIncomingMessage(e.data))},this.handleIncomingMessage=e=>{const{id:t}=e,n=this.callbacks.get(t);n&&(n(e),this.callbacks.delete(t))},this.send=(e,t)=>{const n=i.makeRequest(e,t);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(n,"*"),new Promise(((e,t)=>{this.callbacks.set(n.id,(n=>{n.success?e(n):t(new Error(n.error))}))}))},this.allowedOrigins=e,this.debugMode=t,this.isServer||window.addEventListener("message",this.onParentMessage)}},d=e=>"object"===typeof e&&null!=e&&"domain"in e&&"types"in e&&"message"in e;n(5152);class u{constructor(e){this.communicator=e}async getBySafeTxHash(e){if(!e)throw new Error("Invalid safeTxHash");return(await this.communicator.send(r.getTxBySafeTxHash,{safeTxHash:e})).data}async signMessage(e){const t={message:e};return(await this.communicator.send(r.signMessage,t)).data}async signTypedMessage(e){if(!d(e))throw new Error("Invalid typed data");return(await this.communicator.send(r.signTypedMessage,{typedData:e})).data}async send(e){let{txs:t,params:n}=e;if(!t||!t.length)throw new Error("No transactions were passed");const a={txs:t,params:n};return(await this.communicator.send(r.sendTransactions,a)).data}}const l="eth_call",p="eth_gasPrice",f="eth_getLogs",h="eth_getBalance",g="eth_getCode",y="eth_getBlockByHash",E="eth_getBlockByNumber",T="eth_getStorageAt",I="eth_getTransactionByHash",m="eth_getTransactionReceipt",v="eth_getTransactionCount",A="eth_estimateGas",S="safe_setSettings",_={defaultBlockParam:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:"latest"},returnFullTxObjectParam:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};class N{constructor(e){this.communicator=e,this.call=this.buildRequest({call:l,formatters:[null,_.defaultBlockParam]}),this.getBalance=this.buildRequest({call:h,formatters:[null,_.defaultBlockParam]}),this.getCode=this.buildRequest({call:g,formatters:[null,_.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:T,formatters:[null,_.blockNumberToHex,_.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:f}),this.getBlockByHash=this.buildRequest({call:y,formatters:[null,_.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:E,formatters:[_.blockNumberToHex,_.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:I}),this.getTransactionReceipt=this.buildRequest({call:m}),this.getTransactionCount=this.buildRequest({call:v,formatters:[null,_.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:p}),this.getEstimateGas=e=>this.buildRequest({call:A})([e]),this.setSafeSettings=this.buildRequest({call:S})}buildRequest(e){const{call:t,formatters:n}=e;return async e=>{n&&Array.isArray(e)&&n.forEach(((t,n)=>{t&&(e[n]=t(e[n]))}));const a={call:t,params:e||[]};return(await this.communicator.send(r.rpcCall,a)).data}}}var O=n(2620),b=n(1376),C=n(7965),D=n(3924),w=n(9052),R=n(6023);const P="/docs/contract/encodeFunctionData";function M(e){const{args:t}=e,{abi:n,functionName:a}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:a}=e;let s=t[0];if(a){const e=(0,R.iY)({abi:t,args:n,name:a});if(!e)throw new C.Iz(a,{docsPath:P});s=e}if("function"!==s.type)throw new C.Iz(void 0,{docsPath:P});return{abi:[s],functionName:(0,D.V)((0,w.B)(s))}}(e),s=n[0],i=a,r="inputs"in s&&s.inputs?(0,b.h)(s.inputs,t??[]):void 0;return(0,O.aP)([i,r??"0x"])}var L=n(1064);var B=n(2017),G=n(4117);function U(e,t){return(0,L.S)(function(e){const t="string"===typeof e?(0,G.i3)(e):"string"===typeof e.raw?e.raw:(0,G.My)(e.raw),n=(0,G.i3)(`\x19Ethereum Signed Message:\n${(0,B.E)(t)}`);return(0,O.xW)([n,t])}(e),t)}var x=n(3491),H=n(3512),k=n(1627);class W extends k.C{constructor(e){let{domain:t}=e;super(`Invalid domain "${(0,H.A)(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class j extends k.C{constructor(e){let{primaryType:t,types:n}=e;super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class q extends k.C{constructor(e){let{type:t}=e;super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var V=n(4074),F=n(9393);function K(e){let{domain:t}=e;return["string"===typeof t?.name&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},("number"===typeof t?.chainId||"bigint"===typeof t?.chainId)&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function X(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new q({type:e})}function $(e){const{domain:t={},message:n,primaryType:a}=e,s={EIP712Domain:K({domain:t}),...e.types};!function(e){const{domain:t,message:n,primaryType:a,types:s}=e,i=(e,t)=>{for(const n of e){const{name:e,type:a}=n,r=t[e],o=a.match(F.Ge);if(o&&("number"===typeof r||"bigint"===typeof r)){const[e,t,n]=o;(0,G.cK)(r,{signed:"int"===t,size:Number.parseInt(n)/8})}if("address"===a&&"string"===typeof r&&!(0,V.P)(r))throw new x.M({address:r});const c=a.match(F.BD);if(c){const[e,t]=c;if(t&&(0,B.E)(r)!==Number.parseInt(t))throw new C.BI({expectedSize:Number.parseInt(t),givenSize:(0,B.E)(r)})}const d=s[a];d&&(X(a),i(d,r))}};if(s.EIP712Domain&&t){if("object"!==typeof t)throw new W({domain:t});i(s.EIP712Domain,t)}if("EIP712Domain"!==a){if(!s[a])throw new j({primaryType:a,types:s});i(s[a],n)}}({domain:t,message:n,primaryType:a,types:s});const i=["0x1901"];return t&&i.push(function(e){let{domain:t,types:n}=e;return Q({data:t,primaryType:"EIP712Domain",types:n})}({domain:t,types:s})),"EIP712Domain"!==a&&i.push(Q({data:n,primaryType:a,types:s})),(0,L.S)((0,O.xW)(i))}function Q(e){let{data:t,primaryType:n,types:a}=e;const s=Y({data:t,primaryType:n,types:a});return(0,L.S)(s)}function Y(e){let{data:t,primaryType:n,types:a}=e;const s=[{type:"bytes32"}],i=[z({primaryType:n,types:a})];for(const r of a[n]){const[e,n]=Z({types:a,name:r.name,type:r.type,value:t[r.name]});s.push(e),i.push(n)}return(0,b.h)(s,i)}function z(e){let{primaryType:t,types:n}=e;const a=(0,G.nj)(function(e){let{primaryType:t,types:n}=e,a="";const s=J({primaryType:t,types:n});s.delete(t);const i=[t,...Array.from(s).sort()];for(const r of i)a+=`${r}(${n[r].map((e=>{let{name:t,type:n}=e;return`${n} ${t}`})).join(",")})`;return a}({primaryType:t,types:n}));return(0,L.S)(a)}function J(e){let{primaryType:t,types:n}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;const s=t.match(/^\w*/u),i=s?.[0];if(a.has(i)||void 0===n[i])return a;a.add(i);for(const r of n[i])J({primaryType:r.type,types:n},a);return a}function Z(e){let{types:t,name:n,type:a,value:s}=e;if(void 0!==t[a])return[{type:"bytes32"},(0,L.S)(Y({data:s,primaryType:a,types:t}))];if("bytes"===a){return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},(0,L.S)(s)]}if("string"===a)return[{type:"bytes32"},(0,L.S)((0,G.nj)(s))];if(a.lastIndexOf("]")===a.length-1){const e=a.slice(0,a.lastIndexOf("[")),i=s.map((a=>Z({name:n,type:e,types:t,value:a})));return[{type:"bytes32"},(0,L.S)((0,b.h)(i.map((e=>{let[t]=e;return t})),i.map((e=>{let[,t]=e;return t}))))]}return[{type:a},s]}const ee=4001;class te extends Error{constructor(e,t,n){super(e),this.code=t,this.data=n,Object.setPrototypeOf(this,te.prototype)}}class ne{constructor(e){this.communicator=e}async getPermissions(){return(await this.communicator.send(r.wallet_getPermissions,void 0)).data}async requestPermissions(e){if(!this.isPermissionRequestValid(e))throw new te("Permissions request is invalid",ee);try{return(await this.communicator.send(r.wallet_requestPermissions,e)).data}catch{throw new te("Permissions rejected",ee)}}isPermissionRequestValid(e){return e.every((e=>"object"===typeof e&&Object.keys(e).every((e=>!!Object.values(o).includes(e)))))}}const ae=(e,t)=>t.some((t=>t.parentCapability===e)),se=()=>(e,t,n)=>{const a=n.value;return n.value=async function(){const e=new ne(this.communicator);let n=await e.getPermissions();if(ae(t,n)||(n=await e.requestPermissions([{[t]:{}}])),!ae(t,n))throw new te("Permissions rejected",ee);return a.apply(this)},n};var ie=function(e,t,n,a){var s,i=arguments.length,r=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};class re{constructor(e){this.communicator=e}async getChainInfo(){return(await this.communicator.send(r.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(r.getSafeInfo,void 0)).data}async experimental_getBalances(){let{currency:e="usd"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await this.communicator.send(r.getSafeBalances,{currency:e})).data}async check1271Signature(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x";const n=await this.getInfo(),a=M({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[e,t]}),s={call:l,params:[{to:n.safeAddress,data:a},"latest"]};try{return"0x1626ba7e"===(await this.communicator.send(r.rpcCall,s)).data.slice(0,10).toLowerCase()}catch(i){return!1}}async check1271SignatureBytes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x";const n=await this.getInfo(),a=M({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[e,t]}),s={call:l,params:[{to:n.safeAddress,data:a},"latest"]};try{return"0x20c13b0b"===(await this.communicator.send(r.rpcCall,s)).data.slice(0,10).toLowerCase()}catch(i){return!1}}calculateMessageHash(e){return U(e)}calculateTypedMessageHash(e){const t="object"===typeof e.domain.chainId?e.domain.chainId.toNumber():Number(e.domain.chainId);let n=e.primaryType;if(!n){const t=Object.values(e.types),a=Object.keys(e.types).filter((e=>t.every((t=>t.every((t=>{let{type:n}=t;return n.replace("[","").replace("]","")!==e}))))));if(0===a.length||a.length>1)throw new Error("Please specify primaryType");n=a[0]}return $({message:e.message,domain:{...e.domain,chainId:t,verifyingContract:e.domain.verifyingContract,salt:e.domain.salt},types:e.types,primaryType:n})}async getOffChainSignature(e){return(await this.communicator.send(r.getOffChainSignature,e)).data}async isMessageSigned(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x";if("string"===typeof e&&(t=async()=>{const t=this.calculateMessageHash(e);return await this.isMessageHashSigned(t,n)}),d(e)&&(t=async()=>{const t=this.calculateTypedMessageHash(e);return await this.isMessageHashSigned(t,n)}),t){return await t()}throw new Error("Invalid message type")}async isMessageHashSigned(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x";const n=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const a of n){if(await a(e,t))return!0}return!1}async getEnvironmentInfo(){return(await this.communicator.send(r.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(r.requestAddressBook,void 0)).data}}ie([se()],re.prototype,"requestAddressBook",null);const oe=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{allowedDomains:t=null,debug:n=!1}=e;this.communicator=new c(t,n),this.eth=new N(this.communicator),this.txs=new u(this.communicator),this.safe=new re(this.communicator),this.wallet=new ne(this.communicator)}}}}]);
//# sourceMappingURL=370.2a41d2ed.chunk.js.map